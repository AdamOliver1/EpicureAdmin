<div class="overlay"></div>
<div class="card">


    <form class="form-container" (ngSubmit)="onSubmit()" [formGroup]="form">

        <mat-form-field *ngIf="!isSubmitted">
            <mat-label>name</mat-label>
            <input matInput formControlName="name" placeholder="name">
            <mat-error *ngIf="name?.invalid && name?.touched">
                name required
            </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="!isSubmitted">
            <mat-label>image</mat-label>
            <input matInput formControlName="image" placeholder="image">
            <mat-error *ngIf="image?.invalid && image?.touched">
                image required
            </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="!isSubmitted">
            <mat-label>price</mat-label>
            <input matInput type="number" formControlName="price" placeholder="price">
            <mat-error *ngIf="price?.invalid && price?.touched">
                price required, above 1
            </mat-error>
        </mat-form-field>
        <div class="ingredients-container">

            <input *ngIf="!isSubmitted" #input matInput class="newIngredient" placeholder="new ingredient">
            <button *ngIf="!isSubmitted" (click)="onIngredientAdd()" class="button" mat-raised-button type="button">Add</button>
            <mat-form-field *ngIf="!isSubmitted">
                <mat-label>ingredients</mat-label>
                <mat-select>
                    <mat-option *ngFor="let ingredient of ingredientsArray" [value]="ingredient">
                        {{ingredient}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <mat-form-field *ngIf="!isSubmitted">
            <mat-label>Restaurant</mat-label>
            <mat-select formControlName="restaurant">
              <mat-option *ngFor="let restaurant of restaurants" [value]="restaurant.key">
                {{restaurant.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

        <div *ngIf="!isSubmitted" class="tags-container">

            <mat-checkbox formControlName="spicy" class="example-margin">Spicy</mat-checkbox>
            <mat-checkbox formControlName="vegan" class="example-margin">Vegan</mat-checkbox>
            <mat-checkbox formControlName="vegetarian" class="example-margin">Vegetarian</mat-checkbox>
        </div>

        <div *ngIf="isSubmitted">
            You Succeeded!
        </div>

        <div class="button-container">
            <button *ngIf="!isSubmitted" mat-raised-button type="submit" [disabled]="form.invalid"
                class="button">{{buttonSubmit}}</button>
            <button mat-raised-button type="button" (click)="onCloseClick()" class="button">Close</button>

        </div>




    </form>
</div>